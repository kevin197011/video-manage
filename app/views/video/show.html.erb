<h1>FLV 视频播放</h1>

<div id="video-container">
  <video id="videoElement" controls autoplay width="640" height="360"></video>
</div>

<style>
  body {
    display: flex;
    flex-direction: column; /* 垂直方向排列 */
    justify-content: center; /* 水平居中 */
    align-items: center; /* 垂直居中 */
    height: 100vh; /* 设置容器高度为视口高度 */
    margin: 0; /* 去掉默认的 margin */
    background-color: #f0f0f0; /* 可选：设置背景色 */
  }

  h1 {
    margin-bottom: 20px; /* 标题和视频之间的间距 */
  }

  #video-container {
    text-align: center; /* 居中容器内的内容 */
  }

  video {
    width: 640px; /* 设置视频宽度 */
    height: 360px; /* 设置视频高度 */
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const videoUrl = "<%= @video_url %>";
    if (flvjs.isSupported()) {
      const videoElement = document.getElementById("videoElement");
      const flvPlayer = flvjs.createPlayer({
        type: "flv",
        url: videoUrl
      });
      videoElement.muted = true;
      flvPlayer.attachMediaElement(videoElement);
      flvPlayer.load();
      flvPlayer.play();
    } else {
      alert("您的浏览器不支持 FLV 播放，请使用支持的浏览器。");
    }
  });
</script>
